{"openapi":"3.1.0","info":{"title":"MatruRaksha AI Backend","version":"0.1.0"},"paths":{"/api/v1/voice/parse-vitals":{"post":{"tags":["Enhanced Features"],"summary":"Parse Voice Vitals","description":"Parse unstructured voice text into structured vitals JSON using Gemini.","operationId":"parse_voice_vitals_api_v1_voice_parse_vitals_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VitalsParseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/analyze":{"post":{"tags":["Enhanced Features"],"summary":"Store Report Analysis","description":"Store analyzed medical report","operationId":"store_report_analysis_api_v1_reports_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportAnalysis"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/mother/{mother_id}":{"get":{"tags":["Enhanced Features"],"summary":"Get Mother Reports","description":"Get all reports for a mother","operationId":"get_mother_reports_api_v1_reports_mother__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"integer","title":"Mother Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/memory/store":{"post":{"tags":["Enhanced Features"],"summary":"Store Memory Endpoint","description":"Store context memory","operationId":"store_memory_endpoint_api_v1_memory_store_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextMemory"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/memory/retrieve/{mother_id}":{"get":{"tags":["Enhanced Features"],"summary":"Retrieve Memory","description":"Retrieve relevant memories for a mother - accepts UUID or integer ID","operationId":"retrieve_memory_api_v1_memory_retrieve__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/timeline/event":{"post":{"tags":["Enhanced Features"],"summary":"Add Timeline Event","description":"Add event to health timeline","operationId":"add_timeline_event_api_v1_timeline_event_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthTimelineEvent"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/timeline/{mother_id}":{"get":{"tags":["Enhanced Features"],"summary":"Get Timeline","description":"Get health timeline for a mother - accepts UUID or integer ID","operationId":"get_timeline_api_v1_timeline__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversation/message":{"post":{"tags":["Enhanced Features"],"summary":"Store Conversation","description":"Store conversation message","operationId":"store_conversation_api_v1_conversation_message_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationMessage"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversation/{mother_id}":{"get":{"tags":["Enhanced Features"],"summary":"Get Conversation History","description":"Get conversation history - accepts UUID or integer ID","operationId":"get_conversation_history_api_v1_conversation__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/summary/{mother_id}":{"get":{"tags":["Enhanced Features"],"summary":"Get Health Summary","description":"Get comprehensive health summary - accepts UUID or integer ID","operationId":"get_health_summary_api_v1_summary__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent/query":{"post":{"tags":["Enhanced Features"],"summary":"Query Agent With Context","description":"Query agent with context awareness","operationId":"query_agent_with_context_api_v1_agent_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent/create":{"post":{"tags":["Enhanced Features"],"summary":"Create Agent For Mother","description":"Create Contextual AI agent for a mother","operationId":"create_agent_for_mother_api_v1_agent_create_post","parameters":[{"name":"mother_id","in":"query","required":true,"schema":{"type":"integer","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/health":{"get":{"tags":["Enhanced Features"],"summary":"Enhanced Api Health","description":"Health check for enhanced API","operationId":"enhanced_api_health_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/vapi/webhook":{"post":{"tags":["Vapi AI Calls"],"summary":"Vapi Webhook","description":"Vapi Server URL webhook endpoint.\nConfigure this URL in Vapi Dashboard â Assistant â Server URL\n\nHandles various message types:\n- status-update: Call status changes\n- transcript: Real-time transcript updates\n- end-of-call-report: Complete call summary\n- function-call: Custom function execution","operationId":"vapi_webhook_vapi_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/vapi/call":{"post":{"tags":["Vapi AI Calls"],"summary":"Initiate Outbound Call","description":"Initiate an outbound call to a mother using Vapi.\nRequires Vapi account with phone number configured.","operationId":"initiate_outbound_call_vapi_call_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateCallRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vapi/calls":{"get":{"tags":["Vapi AI Calls"],"summary":"List Calls","description":"List recent calls from Vapi","operationId":"list_calls_vapi_calls_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/vapi/test":{"get":{"tags":["Vapi AI Calls"],"summary":"Test Vapi Integration","description":"Test endpoint to verify Vapi integration is ready","operationId":"test_vapi_integration_vapi_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/vapi/assistant-config":{"get":{"tags":["Vapi AI Calls"],"summary":"Get Assistant Configuration","description":"Get recommended assistant configuration for Vapi dashboard.\nCopy these settings when creating your Vapi assistant.","operationId":"get_assistant_configuration_vapi_assistant_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/signup":{"post":{"tags":["Authentication"],"summary":"Sign Up","description":"Register a new user\n\n**Roles**: ADMIN, DOCTOR, ASHA_WORKER\n\n**Required fields**:\n- email: Valid email address\n- password: At least 8 characters\n- full_name: User's full name\n- role: User role (ADMIN, DOCTOR, ASHA_WORKER)\n\n**Optional fields**:\n- phone: Phone number\n- assigned_area: Assigned geographical area","operationId":"sign_up_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/signin":{"post":{"tags":["Authentication"],"summary":"Sign In","description":"Sign in with email and password\n\nReturns user data and JWT tokens (access_token, refresh_token)","operationId":"sign_in_auth_signin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/signin/google":{"post":{"tags":["Authentication"],"summary":"Sign In With Google","description":"Sign in with Google OAuth\n\nReturns OAuth URL for redirection","operationId":"sign_in_with_google_auth_signin_google_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/signout":{"post":{"tags":["Authentication"],"summary":"Sign Out","description":"Sign out current user\n\nRequires authentication","operationId":"sign_out_auth_signout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token","operationId":"refresh_token_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Profile","description":"Get current authenticated user profile\n\nRequires authentication","operationId":"get_current_user_profile_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/register-request":{"post":{"tags":["Authentication"],"summary":"Create Register Request","description":"Create a pending registration request (no account created yet)\nRoles allowed to request: DOCTOR, ASHA_WORKER","operationId":"create_register_request_auth_register_request_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/register-requests":{"get":{"summary":"Fallback List Register Requests","operationId":"fallback_list_register_requests_auth_register_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/register-requests/{request_id}/decision":{"post":{"summary":"Fallback Decide Register Request","operationId":"fallback_decide_register_request_auth_register_requests__request_id__decision_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"integer","title":"Request Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDecisionBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/profile":{"put":{"tags":["Authentication"],"summary":"Update User Profile","description":"Update current user profile\n\nRequires authentication","operationId":"update_user_profile_auth_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/users":{"get":{"tags":["Authentication"],"summary":"Get All Users","description":"Get all users (Admin only)\n\nRequires ADMIN role","operationId":"get_all_users_auth_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/users/role/{role}":{"get":{"tags":["Authentication"],"summary":"Get Users By Role","description":"Get users by role\n\n**Filters**:\n- role: User role (ADMIN, DOCTOR, ASHA_WORKER)\n- assigned_area: Optional area filter\n\nRequires authentication","operationId":"get_users_by_role_auth_users_role__role__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role","in":"path","required":true,"schema":{"type":"string","title":"Role"}},{"name":"assigned_area","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/{user_id}":{"get":{"tags":["Authentication"],"summary":"Get User By Id","description":"Get user by ID (Admin only)\n\nRequires ADMIN role","operationId":"get_user_by_id_auth_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/{user_id}/activate":{"put":{"tags":["Authentication"],"summary":"Activate User","description":"Activate user account (Admin only)\n\nRequires ADMIN role","operationId":"activate_user_auth_users__user_id__activate_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/{user_id}/deactivate":{"put":{"tags":["Authentication"],"summary":"Deactivate User","description":"Deactivate user account (Admin only)\n\nRequires ADMIN role","operationId":"deactivate_user_auth_users__user_id__deactivate_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/pending-users":{"get":{"tags":["Authentication"],"summary":"Get Pending Users","description":"Get users with null role (pending approval) - Alias for frontend compatibility","operationId":"get_pending_users_auth_pending_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/pending-users/{user_id}/assign-role":{"post":{"tags":["Authentication"],"summary":"Assign Role To Pending User","description":"Assign a role to a pending user","operationId":"assign_role_to_pending_user_auth_pending_users__user_id__assign_role_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignRoleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/pending-users/{user_id}":{"delete":{"tags":["Authentication"],"summary":"Delete Pending User","description":"Delete a pending user","operationId":"delete_pending_user_auth_pending_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/role-requests":{"get":{"tags":["Authentication"],"summary":"Get Role Requests","description":"Get registration requests - Alias for /register-requests","operationId":"get_role_requests_auth_role_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/role-requests/{request_id}/approve":{"post":{"tags":["Authentication"],"summary":"Approve Role Request","description":"Approve a registration request","operationId":"approve_role_request_auth_role_requests__request_id__approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"integer","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/role-requests/{request_id}/reject":{"post":{"tags":["Authentication"],"summary":"Reject Role Request","description":"Reject a registration request","operationId":"reject_role_request_auth_role_requests__request_id__reject_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"integer","title":"Request Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectRoleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/upload-cert":{"post":{"tags":["Authentication"],"summary":"Upload Certification","description":"Upload doctor certification file to Supabase Storage (service role)","operationId":"upload_certification_auth_upload_cert_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_certification_auth_upload_cert_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/stats":{"get":{"tags":["admin"],"summary":"Get Admin Stats","description":"Get dashboard statistics - OPTIMIZED with caching","operationId":"get_admin_stats_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/full":{"get":{"tags":["admin"],"summary":"Get Admin Full Data","description":"COMBINED ADMIN ENDPOINT - Returns all admin data in a single request\nReduces frontend from 4 API calls to 1","operationId":"get_admin_full_data_admin_full_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/doctors":{"get":{"tags":["admin"],"summary":"List Doctors","description":"List all doctors with assigned mothers count - OPTIMIZED","operationId":"list_doctors_admin_doctors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/doctors/{doctor_id}":{"get":{"tags":["admin"],"summary":"Get Doctor Details","description":"Get doctor details with assigned mothers","operationId":"get_doctor_details_admin_doctors__doctor_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"integer","title":"Doctor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update Doctor","description":"Update doctor information","operationId":"update_doctor_admin_doctors__doctor_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"integer","title":"Doctor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDoctorRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Doctor","description":"Delete a doctor (unassigns all mothers first)","operationId":"delete_doctor_admin_doctors__doctor_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"doctor_id","in":"path","required":true,"schema":{"type":"integer","title":"Doctor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/asha-workers":{"get":{"tags":["admin"],"summary":"List Asha Workers","description":"List all ASHA workers with assigned mothers count - OPTIMIZED","operationId":"list_asha_workers_admin_asha_workers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/asha-workers/{asha_id}":{"get":{"tags":["admin"],"summary":"Get Asha Worker Details","description":"Get ASHA worker details with assigned mothers","operationId":"get_asha_worker_details_admin_asha_workers__asha_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asha_id","in":"path","required":true,"schema":{"type":"integer","title":"Asha Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin"],"summary":"Update Asha Worker","description":"Update ASHA worker information","operationId":"update_asha_worker_admin_asha_workers__asha_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asha_id","in":"path","required":true,"schema":{"type":"integer","title":"Asha Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAshaWorkerRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Asha Worker","description":"Delete an ASHA worker (unassigns all mothers first)","operationId":"delete_asha_worker_admin_asha_workers__asha_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asha_id","in":"path","required":true,"schema":{"type":"integer","title":"Asha Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/mothers":{"get":{"tags":["admin"],"summary":"List Mothers","description":"List all mothers with their assignments - OPTIMIZED","operationId":"list_mothers_admin_mothers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/mothers/{mother_id}/assign-asha":{"post":{"tags":["admin"],"summary":"Assign Mother To Asha","description":"Assign a mother to an ASHA worker","operationId":"assign_mother_to_asha_admin_mothers__mother_id__assign_asha_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignAshaRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/mothers/{mother_id}/assign-doctor":{"post":{"tags":["admin"],"summary":"Assign Mother To Doctor","description":"Assign a mother to a doctor","operationId":"assign_mother_to_doctor_admin_mothers__mother_id__assign_doctor_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignDoctorRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/mothers/{mother_id}/send-alert":{"post":{"tags":["admin"],"summary":"Send Mother Alert","description":"Send email alerts to assigned doctor and ASHA worker for a mother","operationId":"send_mother_alert_admin_mothers__mother_id__send_alert_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendAlertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sync/batch":{"post":{"tags":["Offline Sync"],"summary":"Batch Sync","description":"Batch sync all pending offline data.\n\nThis endpoint processes:\n- Pending form submissions\n- Pending chat messages\n- Pending document uploads\n\nReturns results for each item indicating success/failure.","operationId":"batch_sync_api_sync_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSyncRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/sync/forms":{"post":{"tags":["Offline Sync"],"summary":"Sync Forms","description":"Sync pending forms only","operationId":"sync_forms_api_sync_forms_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PendingForm"},"type":"array","title":"Forms"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Response Sync Forms Api Sync Forms Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/sync/chats":{"post":{"tags":["Offline Sync"],"summary":"Sync Chats","description":"Sync pending chats only","operationId":"sync_chats_api_sync_chats_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PendingChat"},"type":"array","title":"Chats"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Response Sync Chats Api Sync Chats Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/sync/documents":{"post":{"tags":["Offline Sync"],"summary":"Sync Documents","description":"Sync pending documents only","operationId":"sync_documents_api_sync_documents_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PendingDocument"},"type":"array","title":"Documents"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Response Sync Documents Api Sync Documents Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/sync/status":{"get":{"tags":["Offline Sync"],"summary":"Get Sync Status","description":"Get sync service status","operationId":"get_sync_status_api_sync_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/delivery/complete":{"post":{"tags":["Delivery"],"summary":"Complete Delivery","description":"Complete delivery and transition mother from MatruRaksha to SantanRaksha\n\nThis endpoint:\n1. Updates mother's delivery status\n2. Switches active_system from 'matruraksha' to 'santanraksha'\n3. Creates child record (if provided)\n4. Returns success response\n\nAfter this, the mother will:\n- Stop appearing in MatruRaksha frontend\n- Start appearing in SantanRaksha frontend\n- All chatbot queries route to SantanRaksha agents (Postnatal, Pediatric, Vaccine, Growth)","operationId":"complete_delivery_api_delivery_complete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryCompletionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryCompletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/delivery/status/{mother_id}":{"get":{"tags":["Delivery"],"summary":"Get Delivery Status","description":"Get delivery status for a mother","operationId":"get_delivery_status_api_delivery_status__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/delivery/add-child/{mother_id}":{"post":{"tags":["Delivery"],"summary":"Add Child Post Delivery","description":"Add child information after delivery (if not added during delivery completion)","operationId":"add_child_post_delivery_api_delivery_add_child__mother_id__post","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChildData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/delivery/children/{mother_id}":{"get":{"tags":["Delivery"],"summary":"Get Mother Children Details","description":"Get all children for a mother with their growth history.\nUsed for the Growth Charts feature.","operationId":"get_mother_children_details_api_delivery_children__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/webhook/{token}":{"post":{"summary":"Telegram Webhook","description":"Webhook endpoint for Telegram bot updates.\nOnly triggers when a message is received (no polling!).","operationId":"telegram_webhook_telegram_webhook__token__post","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mothers/register":{"post":{"summary":"Register Mother","description":"Register a new pregnant mother","operationId":"register_mother_mothers_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Mother"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mothers":{"get":{"summary":"Get All Mothers","description":"Get all registered mothers","operationId":"get_all_mothers_mothers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mothers/{mother_id}":{"get":{"summary":"Get Mother","description":"Get specific mother by ID","operationId":"get_mother_mothers__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze-report":{"post":{"summary":"Analyze Report","description":"Analyze uploaded medical report using Gemini AI","operationId":"analyze_report_analyze_report_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports/upload":{"post":{"summary":"Upload Report","description":"Upload a medical document/report for a mother.\nStores file in Supabase Storage and creates a record in medical_reports.\nAutomatically triggers AI analysis after upload.","operationId":"upload_report_reports_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_report_reports_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports/{mother_id}":{"get":{"summary":"Get Mother Reports","description":"Get all reports for a specific mother","operationId":"get_mother_reports_reports__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports/telegram/{telegram_chat_id}":{"get":{"summary":"Get Reports By Telegram","description":"Get all reports for a Telegram user","operationId":"get_reports_by_telegram_reports_telegram__telegram_chat_id__get","parameters":[{"name":"telegram_chat_id","in":"path","required":true,"schema":{"type":"string","title":"Telegram Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports/{report_id}":{"delete":{"summary":"Delete Report","description":"Delete a medical report (Doctor only)","operationId":"delete_report_reports__report_id__delete","parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/risk/assess":{"post":{"summary":"Assess Risk","description":"Assess pregnancy risk for a mother","operationId":"assess_risk_risk_assess_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessment"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/risk/mother/{mother_id}":{"get":{"summary":"Get Mother Risk","description":"Get risk assessments for a specific mother","operationId":"get_mother_risk_risk_mother__mother_id__get","parameters":[{"name":"mother_id","in":"path","required":true,"schema":{"type":"string","title":"Mother Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/risk/all":{"get":{"summary":"Get All Risk Assessments","description":"Get all risk assessments - optimized for dashboard loading","operationId":"get_all_risk_assessments_risk_all_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/analytics/dashboard":{"get":{"summary":"Get Dashboard Analytics","description":"Get dashboard analytics - OPTIMIZED with caching and efficient queries","operationId":"get_dashboard_analytics_analytics_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/analytics/asha/{asha_id}":{"get":{"summary":"Get Asha Analytics","description":"Get analytics for a specific ASHA worker","operationId":"get_asha_analytics_analytics_asha__asha_id__get","parameters":[{"name":"asha_id","in":"path","required":true,"schema":{"type":"integer","title":"Asha Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboard/full":{"get":{"summary":"Get Full Dashboard","description":"COMBINED DASHBOARD ENDPOINT - Returns all dashboard data in a single request\nReduces frontend from 3 API calls to 1","operationId":"get_full_dashboard_dashboard_full_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/cache/stats":{"get":{"summary":"Get Cache Stats","description":"Get cache statistics (for debugging)","operationId":"get_cache_stats_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/cache/invalidate":{"post":{"summary":"Invalidate Cache","description":"Manually invalidate all caches","operationId":"invalidate_cache_cache_invalidate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/case-discussions/send":{"post":{"summary":"Send Case Discussion","description":"Send a case discussion message:\n1. Store in case_discussions table\n2. Optionally relay to patient's Telegram","operationId":"send_case_discussion_case_discussions_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseDiscussionMessage"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AssignAshaRequest":{"properties":{"asha_worker_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Asha Worker Id"}},"type":"object","title":"AssignAshaRequest"},"AssignDoctorRequest":{"properties":{"doctor_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Doctor Id"}},"type":"object","title":"AssignDoctorRequest"},"AssignRoleRequest":{"properties":{"role":{"type":"string","title":"Role"}},"type":"object","required":["role"],"title":"AssignRoleRequest"},"AuthResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"user":{"additionalProperties":true,"type":"object","title":"User"},"session":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Session"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success","user"],"title":"AuthResponse"},"BatchSyncRequest":{"properties":{"forms":{"anyOf":[{"items":{"$ref":"#/components/schemas/PendingForm"},"type":"array"},{"type":"null"}],"title":"Forms","default":[]},"chats":{"anyOf":[{"items":{"$ref":"#/components/schemas/PendingChat"},"type":"array"},{"type":"null"}],"title":"Chats","default":[]},"documents":{"anyOf":[{"items":{"$ref":"#/components/schemas/PendingDocument"},"type":"array"},{"type":"null"}],"title":"Documents","default":[]}},"type":"object","title":"BatchSyncRequest","description":"Request for batch sync of multiple items"},"BatchSyncResponse":{"properties":{"forms":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Forms"},"chats":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Chats"},"documents":{"items":{"$ref":"#/components/schemas/SyncResult"},"type":"array","title":"Documents"},"summary":{"additionalProperties":true,"type":"object","title":"Summary"}},"type":"object","required":["forms","chats","documents","summary"],"title":"BatchSyncResponse","description":"Response for batch sync"},"Body_upload_certification_auth_upload_cert_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"email":{"type":"string","title":"Email"}},"type":"object","required":["file","email"],"title":"Body_upload_certification_auth_upload_cert_post"},"Body_upload_report_reports_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"mother_id":{"type":"string","title":"Mother Id"},"uploader_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Id"},"uploader_role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Role"},"uploader_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Name"}},"type":"object","required":["file","mother_id"],"title":"Body_upload_report_reports_upload_post"},"CaseDiscussionMessage":{"properties":{"mother_id":{"type":"string","title":"Mother Id"},"sender_role":{"type":"string","title":"Sender Role"},"sender_name":{"type":"string","title":"Sender Name"},"message":{"type":"string","title":"Message"},"send_to_telegram":{"type":"boolean","title":"Send To Telegram","default":true}},"type":"object","required":["mother_id","sender_role","sender_name","message"],"title":"CaseDiscussionMessage"},"ChildData":{"properties":{"name":{"type":"string","title":"Name","description":"Child's name"},"gender":{"type":"string","title":"Gender","description":"Child's gender: male/female/other","default":"male"},"birth_weight_kg":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Birth Weight Kg","description":"Birth weight in kg"},"birth_length_cm":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Birth Length Cm","description":"Birth length in cm"},"birth_head_circumference_cm":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Birth Head Circumference Cm","description":"Head circumference in cm"},"apgar_score_1min":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Apgar Score 1Min","description":"APGAR score at 1 minute"},"apgar_score_5min":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Apgar Score 5Min","description":"APGAR score at 5 minutes"},"birth_complications":{"items":{"type":"string"},"type":"array","title":"Birth Complications","description":"Birth complications"}},"type":"object","required":["name"],"title":"ChildData","description":"Child information for delivery completion"},"ContextMemory":{"properties":{"mother_id":{"type":"integer","title":"Mother Id"},"memory_key":{"type":"string","title":"Memory Key"},"memory_value":{"type":"string","title":"Memory Value"},"memory_type":{"type":"string","title":"Memory Type","default":"fact"},"source":{"type":"string","title":"Source","default":"conversation"}},"type":"object","required":["mother_id","memory_key","memory_value"],"title":"ContextMemory"},"ConversationMessage":{"properties":{"mother_id":{"type":"integer","title":"Mother Id"},"message_role":{"type":"string","title":"Message Role"},"message_content":{"type":"string","title":"Message Content"},"context_used":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Context Used"},"agent_response":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Agent Response"}},"type":"object","required":["mother_id","message_role","message_content"],"title":"ConversationMessage"},"DeliveryCompletionRequest":{"properties":{"mother_id":{"type":"string","title":"Mother Id","description":"Mother's UUID"},"delivery_date":{"type":"string","format":"date-time","title":"Delivery Date","description":"Date and time of delivery"},"delivery_type":{"type":"string","title":"Delivery Type","description":"Type of delivery: normal/cesarean/assisted/forceps/vacuum"},"delivery_hospital":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Hospital","description":"Hospital/facility name"},"delivery_complications":{"items":{"type":"string"},"type":"array","title":"Delivery Complications","description":"Delivery complications"},"gestational_age_weeks":{"anyOf":[{"type":"integer","maximum":45.0,"minimum":20.0},{"type":"null"}],"title":"Gestational Age Weeks","description":"Gestational age at delivery in weeks"},"child":{"anyOf":[{"$ref":"#/components/schemas/ChildData"},{"type":"null"}],"description":"Newborn child information"}},"type":"object","required":["mother_id","delivery_date","delivery_type"],"title":"DeliveryCompletionRequest","description":"Request to mark delivery as completed"},"DeliveryCompletionResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"mother_updated":{"type":"boolean","title":"Mother Updated"},"child_created":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Child Created"},"vaccination_schedule_created":{"type":"boolean","title":"Vaccination Schedule Created","default":false},"active_system":{"type":"string","title":"Active System"},"days_postpartum":{"type":"integer","title":"Days Postpartum","default":0}},"type":"object","required":["success","message","mother_updated","active_system"],"title":"DeliveryCompletionResponse","description":"Response after delivery completion"},"DocumentAnalysisRequest":{"properties":{"report_id":{"type":"string","title":"Report Id"},"mother_id":{"type":"string","title":"Mother Id"},"file_url":{"type":"string","title":"File Url"},"file_type":{"type":"string","title":"File Type"}},"type":"object","required":["report_id","mother_id","file_url","file_type"],"title":"DocumentAnalysisRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthTimelineEvent":{"properties":{"mother_id":{"type":"integer","title":"Mother Id"},"event_date":{"type":"string","title":"Event Date"},"event_type":{"type":"string","title":"Event Type"},"event_data":{"additionalProperties":true,"type":"object","title":"Event Data"},"blood_pressure":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blood Pressure"},"hemoglobin":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Hemoglobin"},"sugar_level":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Sugar Level"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"concerns":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Concerns"}},"type":"object","required":["mother_id","event_date","event_type","event_data"],"title":"HealthTimelineEvent"},"InitiateCallRequest":{"properties":{"mother_id":{"type":"string","title":"Mother Id"},"phone_number":{"type":"string","title":"Phone Number","description":"Phone number with country code (+91...)"},"mother_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mother Name","default":"Mother"}},"type":"object","required":["mother_id","phone_number"],"title":"InitiateCallRequest","description":"Request to initiate an outbound call"},"Mother":{"properties":{"name":{"type":"string","title":"Name"},"phone":{"type":"string","title":"Phone"},"age":{"type":"integer","title":"Age"},"gravida":{"type":"integer","title":"Gravida"},"parity":{"type":"integer","title":"Parity"},"bmi":{"type":"number","title":"Bmi"},"location":{"type":"string","title":"Location"},"preferred_language":{"type":"string","title":"Preferred Language","default":"en"},"telegram_chat_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Chat Id"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"},"delivery_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Status","default":"pregnant"},"active_system":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Active System","default":"matruraksha"},"delivery_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Date"}},"type":"object","required":["name","phone","age","gravida","parity","bmi","location"],"title":"Mother"},"PendingChat":{"properties":{"mother_id":{"type":"string","title":"Mother Id"},"message":{"type":"string","title":"Message"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","default":{}},"created_at":{"type":"string","title":"Created At"},"offline_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offline Id"}},"type":"object","required":["mother_id","message","created_at"],"title":"PendingChat","description":"A chat message that was queued while offline"},"PendingDocument":{"properties":{"mother_id":{"type":"string","title":"Mother Id"},"file_name":{"type":"string","title":"File Name"},"file_type":{"type":"string","title":"File Type"},"file_data":{"type":"string","title":"File Data"},"document_type":{"type":"string","title":"Document Type"},"created_at":{"type":"string","title":"Created At"},"offline_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offline Id"}},"type":"object","required":["mother_id","file_name","file_type","file_data","document_type","created_at"],"title":"PendingDocument","description":"A document that was queued while offline"},"PendingForm":{"properties":{"form_type":{"type":"string","title":"Form Type"},"form_data":{"additionalProperties":true,"type":"object","title":"Form Data"},"created_at":{"type":"string","title":"Created At"},"offline_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offline Id"}},"type":"object","required":["form_type","form_data","created_at"],"title":"PendingForm","description":"A form that was queued while offline"},"QueryRequest":{"properties":{"mother_id":{"type":"integer","title":"Mother Id"},"query":{"type":"string","title":"Query"},"use_context":{"type":"boolean","title":"Use Context","default":true},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","default":"en"}},"type":"object","required":["mother_id","query"],"title":"QueryRequest"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest"},"RegisterDecisionBody":{"properties":{"approved":{"type":"boolean","title":"Approved"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","required":["approved"],"title":"RegisterDecisionBody"},"RegisterRequest":{"properties":{"email":{"type":"string","pattern":"^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password","description":"Password for the account"},"full_name":{"type":"string","minLength":1,"title":"Full Name"},"role":{"type":"string","pattern":"^(DOCTOR|ASHA_WORKER)$","title":"Role"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"assigned_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"},"degree_cert_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Degree Cert Url","description":"Doctor certification file URL in storage"}},"type":"object","required":["email","password","full_name","role"],"title":"RegisterRequest"},"RegisterRequestDecision":{"properties":{"approved":{"type":"boolean","title":"Approved"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","required":["approved"],"title":"RegisterRequestDecision"},"RejectRoleRequest":{"properties":{"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","title":"RejectRoleRequest"},"ReportAnalysis":{"properties":{"mother_id":{"type":"integer","title":"Mother Id"},"filename":{"type":"string","title":"Filename"},"analysis_summary":{"type":"string","title":"Analysis Summary"},"health_metrics":{"additionalProperties":true,"type":"object","title":"Health Metrics"},"concerns":{"items":{"type":"string"},"type":"array","title":"Concerns"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"datastore_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Datastore Id"},"document_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Id"}},"type":"object","required":["mother_id","filename","analysis_summary","health_metrics","concerns","recommendations"],"title":"ReportAnalysis"},"RiskAssessment":{"properties":{"mother_id":{"type":"string","title":"Mother Id"},"systolic_bp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Systolic Bp"},"diastolic_bp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Diastolic Bp"},"heart_rate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Heart Rate"},"blood_glucose":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Blood Glucose"},"hemoglobin":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Hemoglobin"},"proteinuria":{"type":"integer","title":"Proteinuria","default":0},"edema":{"type":"integer","title":"Edema","default":0},"headache":{"type":"integer","title":"Headache","default":0},"vision_changes":{"type":"integer","title":"Vision Changes","default":0},"epigastric_pain":{"type":"integer","title":"Epigastric Pain","default":0},"vaginal_bleeding":{"type":"integer","title":"Vaginal Bleeding","default":0},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["mother_id"],"title":"RiskAssessment"},"SendAlertRequest":{"properties":{"alert_type":{"type":"string","title":"Alert Type","default":"emergency"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","title":"SendAlertRequest"},"SignInRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"SignInRequest"},"SignUpRequest":{"properties":{"email":{"type":"string","pattern":"^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password","description":"Password must be at least 8 characters"},"full_name":{"type":"string","minLength":1,"title":"Full Name","description":"Full name required"},"role":{"type":"string","pattern":"^(ADMIN|DOCTOR|ASHA_WORKER)$","title":"Role","description":"User role"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"assigned_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"}},"type":"object","required":["email","password","full_name","role"],"title":"SignUpRequest"},"SyncResult":{"properties":{"offline_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offline Id"},"success":{"type":"boolean","title":"Success"},"server_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server Id"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["offline_id","success"],"title":"SyncResult","description":"Result of a single sync operation"},"UpdateAshaWorkerRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"assigned_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateAshaWorkerRequest"},"UpdateDoctorRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"assigned_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateDoctorRequest"},"UpdateProfileRequest":{"properties":{"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"assigned_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assigned Area"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"UpdateProfileRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VitalsParseRequest":{"properties":{"text":{"type":"string","title":"Text"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","default":"en"}},"type":"object","required":["text"],"title":"VitalsParseRequest"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}
